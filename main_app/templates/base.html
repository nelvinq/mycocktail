{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyCocktail</title>

    <!-- Link to the CSS file -->
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'images/favicon.png' %}" />
    {% block head %}{% endblock %}
</head>
<body>

    <header>
      <div class="header-logo-container">
        <a href="/">
          <img src="{% static 'images/MyCocktailLogo-White.png' %}" alt="MyCocktail Logo" class="logo">
        </a>
      </div>
      <nav>
        <ul>
            <li><a href="/browse">Browse</a></li>
            <li><a href="/about">About</a></li>
    
            {% if user.is_authenticated %}
                <li><a href="/logout">Logout</a></li>
                <li><a href="#" class="button" id="openModalBtn">Create Cocktail</a></li> <!-- Modal trigger -->
            {% else %}
                <li><a href="/login">Login</a></li>
            {% endif %}
        </ul>
      </nav>
    </header>

    <main>
      {% block content %}{% endblock %}
      {% include 'cocktails/cocktail_modal.html' %}
    </main>

    <!-- JavaScript for modal functionality -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
          const modal = document.getElementById("cocktailModal");
          const openModalBtn = document.getElementById("openModal");
          const closeModalBtn = document.getElementById("closeModal");

          if (openModalBtn && modal && closeModalBtn) {
              openModalBtn.addEventListener("click", function (event) {
                  event.preventDefault();
                  modal.style.display = "block";
              });

              closeModalBtn.addEventListener("click", function () {
                  modal.style.display = "none";
              });

              // Close modal when clicking outside of it
              window.addEventListener("click", function (event) {
                  if (event.target === modal) {
                      modal.style.display = "none";
                  }
              });
          }
      });
    </script>

</body>
</html>
